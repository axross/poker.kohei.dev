import { Chart, ChartAxis, ChartContainer, ChartLine } from "~/components/chart";

# ベットサイズとベット頻度の力学

export const description = "ベットサイズとベット頻度は均衡戦略の上でどのように相互に影響するのか、簡単な数学を使って確認してみます。";

ベットサイズとベット頻度は均衡戦略の上でどのように相互に影響するのしょうか。ここでは、数学的な概念を当てはめて簡単に確認してみます。 {{ className: "lead" }}

## 最適ブラフ頻度 {{ id: "optimal-bluff-to-value-frequency" }}

ベットアクションはバリュー帯とブラフ帯どちらのハンドでも同じように行うべきで、均衡戦略ではその割合も完璧にミックスされている必要があります。どんな割合でバリュー帯のハンドとブラフ帯のハンドを混ぜるかはベットサイズによって決まります。

均衡となる混合戦略でのベットは相手の中程度の EQ を持つハンドのコールとフォールドの選択を無差別にし、ブラフキャッチのEVを0にします。ベットサイズをポットの $\frac{B}{P}$ としたとき、ベットのうち $\frac{B}{B+P}$ の頻度でブラフが混ざっているようにすると均衡戦略となります。これを **最適ブラフ頻度** と呼びます。

| ベットサイズ | 内訳 |
|:---:|:---:|
| ポットの $\frac14$ | バリュー 5 : ブラフ 1 |
| ポットの $\frac13$ | バリュー 4 : ブラフ 1 |
| ポットの $\frac12$ | バリュー 3 : ブラフ 1 |
| ポットの $\frac23$ | バリュー 5 : ブラフ 2 |
| ポットの $\frac34$ | バリュー 7 : ブラフ 3 |
| ポットと同額 | バリュー 2 : ブラフ 1 |
| ポットの $\frac32$ | バリュー 5 : ブラフ 3 |
| ポットの 2 倍 | バリュー 3 : ブラフ 2 |
| ポットの 10 倍 | バリュー 11 : ブラフ 10 |

最適ブラフ頻度が目指すのはあくまでコールとフォールドの選択を無差別にすることなので、**その後のベットアクションが存在しない状況での均衡になります。** オールイン時や、リバーで相手がレイズしてこないと推測できる時などが該当します。これよりもブラフの頻度が多ければブラフ過多、ブラフの頻度が少なければバリュー過多なベットをしていることになり、カウンターとなるエクスプロイト戦略が生まれてしまいます。

## バリューターゲットとブラフターゲット {{ id: "value-target-and-bluff-target" }}

ベットするとき、相手からのコールを期待する対象ハンド群を **バリューターゲット** 、フォールドを期待する対象ハンド群を **ブラフターゲット** と呼びます。バリューターゲットとブラフターゲットは同じハンドを指すこともあります。相手のハンドのうち中程度の EQ を持つものは、自分のハンドが一定よりも強ければバリューターゲットとして機能し、逆にトラッシュハンドでブラフベットする時にはブラフターゲットとなるからです。こうした中程度の EQ を持つハンドは最適ブラフ頻度におけるベットのターゲットとして、相手のコールとフォールドの選択が無差別になることが多くなります。

ベットサイズが大きいと相手はより狭いハンドレンジでコールすることが均衡戦略になります。言い換えると、ベットサイズが大きければ大きいほど相手のコールとフォールドの選択が無差別になるレンジが強くなり、より高 EQ のレンジをバリューターゲット/ブラフターゲットにすることになります。強いハンドをバリューターゲットにするにはこちらもバリューベットとして強いハンドが必要になるので、ナット帯などの強いハンドの割合が大きいレンジが大きなサイズのベットをすることになります。

<Row>
  <Col>
    このことから、**自分のハンドの強さ、あるいは主張するハンドの強さとベットサイズには相関がある** と言えます。

    ブラフベットに利用するハンドはチェックした時のEVが低い ― つまり本来のEQが低いようなハンドほどブラフでのEVとの差が大きくなり、より数学的に効果的なブラフハンドになります。実際には相手のハンドを効果的にブロックするようなハンドが理想ですが、そうしたスポットごとの事情を無視してしまえば、ハンドの強さとベットサイズの相関は次のチャートのような曲線を描くことになります。
  </Col>

  <Col>
    <ChartContainer>
      <Chart>
        <ChartAxis
          dependentAxis
          minDomain={0}
          maxDomain={2}
          tickValues={[0, 2]}
          tickFormat={(y) => `${y * 100}%`}
          label="ベットサイズ"
        />

        <ChartAxis
          crossAxis
          minDomain={0}
          maxDomain={1}
          tickValues={[0, 0.02, 0.06, 0.12, 0.7, 0.85, 0.95, 1]}
          tickFormat={["低", null, null, null, null, null, null, "高"]}
          label="ハンドの EQ"
          style={{
            grid: {
              stroke: "currentColor",
              opacity: 0.5,
              strokeDasharray: "6, 6",
              strokeLineCap: "round",
            }
          }}
        />

        <ChartLine
          data={[
            { x: 0, y: 2 },
            { x: 0.15, y: 0 },
            { x: 0.7, y: 0.1 },
            { x: 0.96, y: 1 },
            { x: 1, y: 2 },
          ]}
          interpolation="natural"
        />
      </Chart>
    </ChartContainer>
  </Col>
</Row>

## ベットサイズのグループ化 {{ id: "grouping-betting-size" }}

ただ、この相関どおりのベットサイズを細かに選択すると問題が生じます。粒度の細かすぎるベットサイズは、裏を返すと同じ粒度・正確さでこちらのハンドを特定できてしまうのです。チャート上のYの値がわかれば、Xの値もバリュー側の一点とブラフ側の一点の2択にまで絞り込めてしまうというわけです。

<Row>
  <Col>
    この問題を解決するために、一般的にはベットサイズを平均化してバリエーションをいくつかのグループに減らします。多くのプレイヤーが3-4種類程度のベットサイズを選択肢として用意してその中から選ぶように使っているのはこのためです。ただし重要なのは、あくまでベットサイズの選択時には実際に所持するハンドが属するグループとなるベットサイズを選択すべきだということです。
  </Col>

  <Col>
    <ChartContainer>
      <Chart>
        <ChartAxis
          dependentAxis
          minDomain={0}
          maxDomain={2}
          tickValues={[0, 2]}
          tickFormat={(y) => `${y * 100}%`}
          label="ベットサイズ"
        />

        <ChartAxis
          crossAxis
          minDomain={0}
          maxDomain={1}
          tickValues={[0, 0.02, 0.06, 0.12, 0.7, 0.85, 0.95, 1]}
          tickFormat={["低", null, null, null, null, null, null, "高"]}
          label="ハンドの EQ"
          style={{
            grid: {
              stroke: "currentColor",
              opacity: 0.5,
              strokeDasharray: "6, 6",
              strokeLineCap: "round",
            }
          }}
        />

        <ChartLine
          data={[
            { x: 0, y: 1.5 },
            { x: 0.02, y: 1.5 },
            { x: 0.02, y: 0.75 },
            { x: 0.06, y: 0.75 },
            { x: 0.06, y: 0.333 },
            { x: 0.12, y: 0.333 },
            { x: 0.12, y: 0 },
            { x: 0.7, y: 0 },
            { x: 0.7, y: 0.333 },
            { x: 0.85, y: 0.333 },
            { x: 0.85, y: 0.75 },
            { x: 0.95, y: 0.75 },
            { x: 0.95, y: 1.5 },
            { x: 1, y: 1.5 },
          ]}
          interpolation="linear"
        />
      </Chart>
    </ChartContainer>
  </Col>
</Row>

よく見られるベットサイズの選択肢としては、ベットはポットの $\frac13$ ･ $\frac34$ ･ $\frac32$ のいずれか、レイズはポットの $\frac12$ といったものが一般的なように感じます。

## エクイティ否定 {{ id: "equity-denial" }}

ポットを膨らませる以外にもバリューベットとブラフベットに共通したベットの価値として、相手のハンドの **エクイティを否定** できるというのがあります。

ボトムペアや薄いドローといった中-低程度の EQ を持つハンドは連続したベットアクションのどこかで耐えられずにフォールドすることになります。フォールドすると EV は 0 なので、このエクイティ実現を阻止によって相対的に自分のハンドの EV が高まることになります。このようなエクイティ否定によって得られる利益が **フォールドエクイティ** です。

このコンセプトに従うと、ブラフベットは中程度の EQ を持つハンドの EQR を低下させるためのベットだということになります。たとえ一度のブラフベットが失敗しコールされてしまっても、その後もベットアクションを取り続ける中で一定の頻度で相手がフォールドを選択するのであれば「EQR を低下させる行動をとっている」と利益的に考えられます。

また、これは逆に中程度の EQ を持つハンドがベットする理由にもなります。チェックすると相手にフリーカードを与えてエクイティを実現されてしまう可能性がありますが、ベットによって相手をフォールドさせればたとえ僅かなアウツでもエクイティを否定していることになり、そのフォールドエクイティによって自らのハンドのEVを高める結果になります。これをバリューベットと呼ぶべきかは難しいところですが、マージナルハンドのベットにもエクイティ否定によるバリューが存在するのです。

## フォールドエクイティのレバレッジ {{ id: "leveraged-bets" }}

最適コール頻度をもとに考えると、コール/フォールドの選択を強いられている相手のレンジはベットを重ねるごとに狭くなっていきます。たとえばこちらの $\frac13$ ポットのベットに相手が $\frac34$ の頻度でコールしたとして、その次のストリートで同じ $\frac13$ ポットのベットをした時に相手がコールするのは前のストリートでのコール範囲のさらに $\frac34$ であり、通して換算すると $\frac34 \times \frac34 = \frac{9}{16}$ のレンジが生き残る結果になります。

最適コール頻度においてコールしても、この2回のコール/フォールドの選択は **コールするプレイヤーの側から独立した事象ですが、ベットするプレイヤーの側からは連続した事象です。** 2回のベットを通じて相手のレンジの $\frac7{16}$ をフォールドさせられると考えると、1回目のベットの段階から バリュー 16 : ブラフ 9 の割合のレンジでベットでき、それが「連続した2回のベット」の均衡になります。**相手の「2回のベットをどちらもコールする」と「1回目のベットか2回目のベットどちらかでフォールドする」という選択の間で無差別になるわけです。**

これは1回のベットによる最適ブラフ頻度よりも高い頻度でベットにブラフハンドが混ざることになり、言い換えると連続したベットはフォールドエクイティを指数的に増加させます。このコンセプトは **レバレッジがかかる** と呼ばれています。

次の表はある一定のサイズでのベットを連続して行った時に、レバレッジを加味した均衡におけるバリューハンドとブラフハンドの割合を示しています。

| ベットサイズ | 1回 | 2回 | 3回 |
|:---:|:---:|:---:|:---:|
| ポットの$\frac14$ | 5 : 1 | 25 : 11  | 125 : 91 |
| ポットの$\frac13$ | 4 : 1 | 16 : 9 | 64 : 61 |
| ポットの$\frac12$ | 3 : 1 | 9 : 7 | 27 : 37 |
| ポットの$\frac23$ | 5 : 2 | 25 : 24 | 125 : 218 |
| ポットの$\frac34$ | 7 : 3 | 49 : 51 | 343 : 657 |
